<!-- The view is strongly typed to a list of Category objects -->
@model List<Category>

<div class="container">
	<!-- Header Row with Title and Modal Trigger Button -->
	<div class="row pt-4 align-items-center pb-3">
		<div class="col-3"></div> <!-- Left empty column for spacing -->
		<div class="col-6 text-center">
			<!-- Title Section -->
			<h2 class="mb-0">Categories</h2>
		</div>
		<div class="col-3 text-end">
			<!-- Button to Open the Create Category Modal -->
			<button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#createCategoryModal">
				<i class="bi bi-plus-circle"></i> Create New Category
			</button>
		</div>
	</div>

	<!-- Table to Display Categories -->
	<div class="table table-responsive">
		<table class="table table-striped table-hover text-center">
			<tbody>
				<!-- Loop through the Model (List<Category>) to render each category -->
				@foreach (var category in Model)
				{
					<tr>
						<!-- Display the Category Name -->
						<td class="text-start align-middle fw-bold">
							@category.CategoryName
						</td>

						<td class="text-end align-middle" >
							<div class="d-flex justify-content-end">
								<a asp-controller="Category" asp-action="Edit" class="btn btn-primary me-2">
									<i class="bi bi-pencil-square"></i> Edit
								</a>
								<a asp-controller="Category" asp-action="Delete" class="btn btn-danger">
									<i class="bi bi-trash-fill"></i> Delete
								</a>
							</div>
						</td>

					</tr>
				}
			</tbody>
		</table>
	</div>

	<!-- Include the Modal Partial View -->
	@await Html.PartialAsync("_CreateCategoryPartial", new BookLink.Models.Category())
	<!-- This loads the Create Category modal from the _CreateCategoryPartial view -->

	<!--This can be used also, but for only Synchronous-->
	@* <partial name="_CreateCategoryPartial" model="new BookLink.Models.Category()" /> *@


</div>

@section Scripts {
	<!-- Include Validation Scripts for Client-Side Validation -->
	@await Html.PartialAsync("_ValidationScriptsPartial")
}

<!--This can be used also, but for only Synchronous-->

@* @section Scripts {
    @{
        <partial name="_ValidationScriptsPartial"/>
    }
} *@
